# =============================================================================
# LiveSync Backup Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# Keep .env private - it contains secrets!

# -----------------------------------------------------------------------------
# E2EE Passphrase (REQUIRED)
# -----------------------------------------------------------------------------
# This is the End-to-End Encryption passphrase you set in Obsidian LiveSync.
#
# To find it:
#   1. Open Obsidian
#   2. Settings → Community Plugins → Self-hosted LiveSync → Open Settings
#   3. Look under "Encryption" section for your E2EE passphrase
#
# If you don't remember it, it's also stored (encrypted) in your data.json
# but you'd need the CONFIG_PASSPHRASE to decrypt it.
E2EE_PASSPHRASE=

# -----------------------------------------------------------------------------
# CouchDB Connection (REQUIRED)
# -----------------------------------------------------------------------------
# Your CouchDB server credentials. You can find these in:
#   - Your CouchDB admin interface (Fauxton) at http://your-server:5984/_utils
#   - Or in your docker-compose.yml / CouchDB configuration
#
# Use https:// if your server uses SSL (even self-signed certs are supported)
COUCHDB_URI=https://192.168.1.100:5984
COUCHDB_USER=admin
COUCHDB_PASSWORD=

# -----------------------------------------------------------------------------
# Database Name (REQUIRED)
# -----------------------------------------------------------------------------
# The CouchDB database name where LiveSync stores your notes.
#
# To find it:
#   1. Open Fauxton at http://your-server:5984/_utils
#   2. Look for a database starting with "obsidian" (e.g., "obsidian" or "obsidian-abc123")
#
# Or check your LiveSync settings in data.json - look for "additionalSuffixOfDatabaseName".
# If it's empty, your database is just "obsidian".
# If it has a value like "5987ba08b1ec3c27", your database is "obsidian-5987ba08b1ec3c27".
COUCHDB_DATABASE=obsidian

# -----------------------------------------------------------------------------
# Backup Settings
# -----------------------------------------------------------------------------
# Where to save backups (must be an existing directory)
NAS_PATH=/path/to/your/backup/folder

# How many days to keep old backups (older ones are automatically deleted)
RETENTION_DAYS=30

# Dry run mode - set to "true" to preview what would happen without making changes
# Useful for testing your configuration before running a real backup
# DRY_RUN=true

# Uptime Kuma push URL for monitoring (optional)
# Get this from Uptime Kuma: Add Monitor → Push → copy the Push URL
# UPTIME_KUMA_PUSH_URL=https://uptime-kuma.example.com/api/push/xxxxxxxx

# -----------------------------------------------------------------------------
# Advanced: Config Passphrase (OPTIONAL)
# -----------------------------------------------------------------------------
# Only needed if you want to decrypt credentials from data.json instead of
# providing COUCHDB_* values directly above.
#
# This is the passphrase you use when generating a "Setup URI" in LiveSync
# to configure new devices. If you've never used that feature, you probably
# don't have one set.
#
# Most users should ignore this and use the direct COUCHDB_* settings above.
# CONFIG_PASSPHRASE=

# -----------------------------------------------------------------------------
# Advanced: Database Suffix (OPTIONAL)
# -----------------------------------------------------------------------------
# Only used if COUCHDB_DATABASE is not set. The database name will be
# constructed as "obsidian-{DB_SUFFIX}".
#
# You can find this in your LiveSync data.json as "additionalSuffixOfDatabaseName".
# Most users should just set COUCHDB_DATABASE directly instead.
# DB_SUFFIX=

# -----------------------------------------------------------------------------
# Advanced: Custom CA Certificate (OPTIONAL)
# -----------------------------------------------------------------------------
# If your CouchDB uses a self-signed certificate, you can provide your CA cert
# for proper TLS verification instead of skipping verification entirely.
#
# Set both variables:
#   CA_CERT_HOST = path to cert on your host machine
#   CA_CERT      = path inside the container (where it will be mounted)
#
# Example:
#   CA_CERT_HOST=/home/user/certs/my-ca.crt
#   CA_CERT=/app/certs/ca.crt
#
# If not set, TLS certificate verification is skipped for convenience.
# CA_CERT_HOST=
# CA_CERT=
